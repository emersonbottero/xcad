// const a = [
//     {
//         "text": "Changelog",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/changelog/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Custom features",
//         "items": [
//             {
//                 "text": "Data",
//                 "items": [
//                     {
//                         "text": "Backward compatibility",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/data/backward-compatibility/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Dimensions",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/data/dimensions/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Edit bodies",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/data/edit-bodies/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/custom-features/data/"
//                     },
//                     {
//                         "text": "Parameters",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/data/parameters/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Selections",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/data/selections/"
//                             }
//                         ],
//                         "collapsed": true
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Index",
//                 "link": "/custom-features/"
//             },
//             {
//                 "text": "Lifecycle",
//                 "items": [
//                     {
//                         "text": "Edit definition",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/lifecycle/edit-definition/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/custom-features/lifecycle/"
//                     },
//                     {
//                         "text": "Regeneration",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/lifecycle/regeneration/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "State",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/custom-features/lifecycle/state/"
//                             }
//                         ],
//                         "collapsed": true
//                     }
//                 ],
//                 "collapsed": true
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Deployment",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/deployment/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Documents management",
//         "items": [
//             {
//                 "text": "Events",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/documents-management/events/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Index",
//                 "link": "/documents-management/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Extensions",
//         "items": [
//             {
//                 "text": "Build errors",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/extensions/build-errors/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Commands",
//                 "items": [
//                     {
//                         "text": "Command states",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/commands/command-states/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Defining commands",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/commands/defining-commands/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Hosting commands",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/commands/hosting-commands/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/extensions/commands/"
//                     },
//                     {
//                         "text": "Sub menu and spacers",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/commands/sub-menu-and-spacers/"
//                             }
//                         ],
//                         "collapsed": true
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Debugging",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/extensions/debugging/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Deployment",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/extensions/deployment/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Entry point",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/extensions/entry-point/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Index",
//                 "link": "/extensions/"
//             },
//             {
//                 "text": "Panels",
//                 "items": [
//                     {
//                         "text": "Feature manager tab",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/panels/feature-manager-tab/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/extensions/panels/"
//                     },
//                     {
//                         "text": "Model view tab",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/panels/model-view-tab/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Popup",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/panels/popup/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Task pane",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/extensions/panels/task-pane/"
//                             }
//                         ],
//                         "collapsed": true
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Registering",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/extensions/registering/"
//                     }
//                 ],
//                 "collapsed": true
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Installation",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/installation/"
//             },
//             {
//                 "text": "Preview builds",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/installation/preview-builds/"
//                     }
//                 ],
//                 "collapsed": true
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Localization",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/localization/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Property pages",
//         "items": [
//             {
//                 "text": "Controls",
//                 "items": [
//                     {
//                         "text": "Bitmap",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/bitmap/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Bitmap button",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/bitmap-button/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Button",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/button/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Check box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/check-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Combo box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/combo-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Common",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/common/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Custom",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/custom/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Dependencies",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/dependencies/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Dynamic values",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/dynamic-values/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Group",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/group/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/property-pages/controls/"
//                     },
//                     {
//                         "text": "Number box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/number-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Option box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/option-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Page",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/page/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Selection box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/selection-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Tab",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/tab/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Text box",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/controls/text-box/"
//                             }
//                         ],
//                         "collapsed": true
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Events",
//                 "items": [
//                     {
//                         "text": "Closing",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/events/closing/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Data changed",
//                         "items": [
//                             {
//                                 "text": "Index",
//                                 "link": "/property-pages/events/data-changed/"
//                             }
//                         ],
//                         "collapsed": true
//                     },
//                     {
//                         "text": "Index",
//                         "link": "/property-pages/events/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Index",
//                 "link": "/property-pages/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Stand alone",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/stand-alone/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Target versions",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/target-versions/"
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Third party data storage",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/third-party-data-storage/"
//             },
//             {
//                 "text": "Storage",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/third-party-data-storage/storage/"
//                     }
//                 ],
//                 "collapsed": true
//             },
//             {
//                 "text": "Stream",
//                 "items": [
//                     {
//                         "text": "Index",
//                         "link": "/third-party-data-storage/stream/"
//                     }
//                 ],
//                 "collapsed": true
//             }
//         ],
//         "collapsed": true
//     },
//     {
//         "text": "Troubleshooting",
//         "items": [
//             {
//                 "text": "Index",
//                 "link": "/troubleshooting/"
//             }
//         ],
//         "collapsed": true
//     }
// ]

export const cleanNavItems = (sidebar) => {
    //console.log(sidebar);
    sidebar.forEach(element => {
        //console.log(element);
        if (element.items && element.items.some(i => i.text == "Index")) {
            element.link = element.items.find(e => e.text == "Index").link
            element.items = element.items.filter(e => e.text != "Index")
            if (element.items.length == 0) {
                delete element.items
            } else
                return cleanNavItems(element.items)
        }
        else {
            //console.log(element);
            return element.link
        }
    });
    return sidebar
}

// const b = cleanNavItems(a)
// console.log(b);